<ul>
    <li>Animais
        <ul>
            <li>Mamíferos
                <ul>
                    <li>Vacas</li>
                    <li>Macacos</li>
                    <li>Cachorros</li>
                    <li>Tigres</li>
                </ul>
            </li>
            <li>Outros
                <ul>
                    <li>Cobras</li>
                    <li>Pássaros</li>
                    <li>Lagartos</li>
                </ul>
            </li>
        </ul>
    </li>
</ul>

<!--Resposta-->
<script>
    let lis = document.querySelectorAll("ul li");

    for (let li of lis) {
        let descendentes = li.querySelectorAll("li");

        if (descendentes.length) {
            li.firstChild.data += `[${descendentes.length}]`;
        }
    }
</script>